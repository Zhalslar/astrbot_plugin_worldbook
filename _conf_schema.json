{
  "lorefiles": {
    "description": "世界书文件",
    "hint": "请填写世界书文件路径, 支持相对路径和绝对路径，请用/拼接路径。插件初始化时将会加载文件中的世界书条目到配置中，已加载过的将跳过。插件内置的提示词文件为 data/plugins/astrbot_plugin_worldbook/default_lorebook.yaml, 用户也可按规则自行编写提示词文件",
    "type": "list",
    "default": [
      "data/plugins/astrbot_plugin_worldbook/default_lorebook.yaml"
    ]
  },
  "export_format": {
    "description": "导出格式",
    "hint": "本插件支持用命令 [导出世界书] 导出当前配置的所有条目，格式为 json 或 yaml ; 同时支持用命令 [导出世界书] 直接导入别人的世界书文件",
    "type": "string",
    "options": [
      "json",
      "yaml"
    ],
    "default": "json"
  },
  "default_duration": {
    "description": "默认注入时长",
    "hint": "提示词的默认注入时长，单位为秒, 此时间段内，所有 LLM请求的 system_prompt 都会被注入该条目的提示词， 到达时间后不再注入, 设为 0 表示一直注入",
    "type": "int",
    "slider": {
      "min": 0,
      "max": 600,
      "step": 10
    },
    "default": 180
  },
  "default_times": {
    "description": "默认注入次数",
    "hint": "提示词的默认注入次数：注入时长内，累计注入的次数达到设置的次数后，当前会话不再注入该条目的提示词，设为 0 表示不限制次数",
    "type": "int",
    "slider": {
      "min": 0,
      "max": 10,
      "step": 1
    },
    "default": 5
  },
  "max_inject_count": {
    "description": "最大注入数",
    "hint": "每次 LLM 请求时，最多允许注入多少个条目的提示词，设为 0 表示不限制",
    "type": "int",
    "slider": {
      "min": 0,
      "max": 10,
      "step": 1
    },
    "default": 3
  },
  "entry_storage": {
    "description": "世界书条目",
    "type": "template_list",
    "hint": "请按照世界书条目模版自行添加。也可通过命令 [添加条目 名称 内容] 实时添加，用命令添加时采用默认注入时长、默认注入次数，默认用昵称触发，优先级会自增",
    "templates": {
      "default": {
        "name": "条目",
        "items": {
          "name": {
            "description": "名称",
            "hint": "必填！条目的名称用于查询，务必不要使用重复名称",
            "type": "string",
            "default": "请输入名称"
          },
          "enabled": {
            "description": "启用",
            "hint": "是否启用此条目",
            "type": "bool",
            "default": true
          },
          "priority": {
            "description": "优先级",
            "hint": "提示词注入优先级，数字越小越优先触发并注入, 优先级相同则激活时覆盖同优先级的提示词",
            "type": "int",
            "slider": {
              "min": 0,
              "max": 100,
              "step": 1
            },
            "default": 50
          },
          "scope": {
            "description": "触发范围",
            "hint": "提示词注入时, 只有列表中的ID才能触发此套提示词, 支持填用户ID、群聊ID、会话ID, 填“admin”表示管理员, 留空表示所有会话均可触发",
            "type": "list",
            "default": []
          },
          "keywords": {
            "description": "触发词",
            "hint": "支持关键词和正则表达式，当用户消息中与列表中任意关键词或正则表达式匹配时, 激活本条目。不填则自动以条目名称作为触发词",
            "type": "list",
            "default": []
          },
          "probability": {
            "description": "触发概率",
            "hint": "满足触发词规则后还要经过概率判断, 0 表示无法触发, 1 表示百分百触发",
            "slider": {
              "min": 0,
              "max": 1,
              "step": 0.01
            },
            "type": "float",
            "default": 1.0
          },
          "content": {
            "description": "提示词",
            "hint": "条目触发后，此处的提示词将注入到 LLM请求的 system_prompt 中。写法详见文档",
            "type": "text",
            "default": "请输入提示词"
          },
          "duration": {
            "description": "注入时长",
            "hint": "提示词注入时长，单位为秒, 此时间段内，所有 LLM请求的 system_prompt 都会被注入本套提示词， 到达时间后不再注入, 设为 0 表示一直注入",
            "type": "int",
            "slider": {
              "min": 0,
              "max": 600,
              "step": 10
            },
            "default": 180
          },
          "times": {
            "description": "注入次数",
            "hint": "注入时长内，累计注入的次数达到设置的次数后，当前会话不再注入本套提示词，设为 0 表示不限制次数",
            "type": "int",
            "slider": {
              "min": 0,
              "max": 10,
              "step": 1
            },
            "default": 5
          }
        }
      }
    }
  }
}